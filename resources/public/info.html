<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="site.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <span style="text-align:left;"><text class="title">free&nbsp;&nbsp;</text>
      <text class="subtitle">an implementation of Bogacz's (2015) free error minimization model of perception</text>
    <span style="float:right;">
      <a class="nontitle" href="index.html">Return to the model plot page</a>&nbsp;&nbsp;
    </span>
    <br/>
    <span>
      <a class="nontitle" href="http://members.logical.net/~marshall">Marshall Abrams</a>
      <text class="nontitle">&nbsp;(&copy; 2016)</text>
    </span>
    <br/>
    <br/>
    <div class="normal-text">
      (These notes are still incomplete.)

      <h3>What is it?</h3>

      <h4>Overview</h4>

      <p> This is a simple model from a class of
       models of cognition and brain processes that use methods known as
       "free-energy minimization", "prediction error minimization",
       "predictive coding"
       and/or "predictive processing".  The particular model is a fairly
       literal implementation of a mathematical model described in</p>
       <blockquote>
       Rafal Bogacz, "A tutorial on the free-energy framework for
       modelling perception and learning", <em>Journal of Mathematical
       Psychology</em>, available online 14 December 2015, ISSN
       0022-2496, http://dx.doi.org/10.1016/j.jmp.2015.11.003.
       (http://www.sciencedirect.com/science/article/pii/S0022249615000759)
       </blockquote>
       <p>Specifically, this is the scalar model that Bogacz describes in section 2 
       of his paper.  (There is another version of this software that
       implements the vector/matrix model that Bogacz describes in section 4.)
       </p>

      <h4>Levels and variables</h4>

       <p> In this model there are distinct "levels" of information that
       interact.  The general idea is that there is a "prediction"
       (represented by <em>phi</em>) at one level, scaled by a multiplier
       <em>theta</em>; the result is then is compared to some version of
       data (also called <em>phi</em>) at the at the next level
       down.  That is, we're in effect comparing a prediction from the
       higher level about what the data will be at the next level down.
       The difference between these two values is an "error"
       value <em>epsilon</em>.  This is then scaled by the inverse of a
       value <em>sigma</em> to get a scaled error value.  And this is then
       used to adjust <em>theta</em> and the first <em>phi</em>.  Then the 
       process starts over.  It's a feedback loop.  With one proviso:
       If there are more three (or two--see below) levels, then this
       process takes place between each two "adjacent" levels, so that
       the feedback loop involves all of the levels.</p>

       <p>The version of the model displayed in this web version of
       <em>free</em> has only three levels--or rather two, level 0 and
       level 1, since the last level, labeled "priors", isn't really a
       level per se.  This last level merely holds some values
       (parameters of priors) needed to make the model run in a simpler
       way.  (However, <em>free</em> is designed so that by changing or
       replacing one file--model.cljc for the web version--it should be
       able handle a model involving any number of levels.)</p>

       <h4>What's plotted?</h4>

       <p>This model assumes that noisy sensory data is a function of the
       area of a two-dimensional object.  The model tries to estimate
       the radius <em>phi</em> (at level 1) of the object.</p>

       <p>The chart initially plots four level-1 values over time.  The
       model's <em>phi</em> value is plotted over time by the black
       curve.  The red <em>epsilon</em> curve is the error--the
       estimated difference between the current estimate of the area and
       what the data is saying, roughly on average.  The blue curve
       represents the changing value of <em>theta</em>, which (by
       default) performs a long-term adjustment of a weight on the area
       estimate.  The green curve is for <em>sigma</em>, which is used
       to scale the error by dividing it by <em>sigma</em>.  This is
       adjusted in response to the current values of <em>epsilon</em>
       and <em>sigma</em>.  I currently have <em>sigma</em>'s minimum
       value set to 1, following a suggestion by Friston that Bogacz
       cites.  Timesteps are timesteps for the source code: Each timestep
       represents a new set of points.  You can think of each timestep
       as corresponding to a small number of milliseconds, though.
       (This is all pretty vague.  See Bogacz's article or my
       source file <a
       href="https://github.com/mars0i/free/blob/master/src/cljc/general/free/level.cljc">level.cljc</a>
       for details.)</p>

       <h3>How to use it?</h3>

       <h4>Controlling the plot</h4>

       <p>The plot is controlled by the form below it.  The top part of the
       form allows you to adjust parameters of the plot.  The "re-plot"
       button will regenerated the plot after you change parameters.</p>

       <p>You can make it wider or taller, or adjust the number of points
       (<em>num-points</em>) plotted.</p>

       <p>You can tell the application to plot more <em>timesteps</em>--as
       many as you want, as long as your browser can get enough memory
       for your computer, and as long as your patience lasts.  The code
       will generate data for new timesteps as needed.</p>

       <p>The "Levels to display" checkboxes control which levels are
       displayed--level 0 or level 0.  If you turn on level 0, you'll
       see the individual points of simulated sensory data, and the
       <em>epsilon</em> values at level 0.  Note that the application
       will only plot as many points as you've specified, so you won't
       see all of the sensory data points unless you change
       <em>num-points</em> and <em>timesteps</em> to be equal.</p>

       <h4>Controlling the model</h4>

       <p>The bottom part of the control form contains parameters that
       affect the data generated by the model, rather than how and how
       much of the data is displayed.  The "re-run" button will regenerate
       the data if you've changed paramters.</p>

       <p>Parameters are divided into levels.  At level 0, there are some
       additional "sensory" parameters that control the randomly generated
       sensory data.</p>

       (To do: Explain sensory parameters and -dt parameters.)




      <h3>Things to try</h3>


      <h3>Going further</h3>

      <h4>The source code</h4>

      <h4>Clojure versions, etc.</h4>

      <h4>Installing <em>free</em></h4>

      <h4>Possible enhancements</h4>


    </div>
  </body>
</html>
